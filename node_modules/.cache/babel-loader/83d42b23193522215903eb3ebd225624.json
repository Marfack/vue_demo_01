{"remainingRequest":"D:\\VSCodeProjects\\Demo\\demo_01\\node_modules\\babel-loader\\lib\\index.js!D:\\VSCodeProjects\\Demo\\demo_01\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\VSCodeProjects\\Demo\\demo_01\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\VSCodeProjects\\Demo\\demo_01\\src\\views\\comprehensive_evaluation\\CompEvaluation.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\VSCodeProjects\\Demo\\demo_01\\src\\views\\comprehensive_evaluation\\CompEvaluation.vue","mtime":1632315092758},{"path":"D:\\VSCodeProjects\\Demo\\demo_01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632030581148},{"path":"D:\\VSCodeProjects\\Demo\\demo_01\\node_modules\\babel-loader\\lib\\index.js","mtime":1632030584188},{"path":"D:\\VSCodeProjects\\Demo\\demo_01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632030581148},{"path":"D:\\VSCodeProjects\\Demo\\demo_01\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632030586808}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkQ6L1ZTQ29kZVByb2plY3RzL0RlbW8vZGVtb18wMS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCB7IGdldERhdGFCeUlkIH0gZnJvbSAnQC9uZXR3b3JrL2NvbXBFdmFsdWF0aW9uRGF0YSc7CmltcG9ydCB7IGRyYXcgfSBmcm9tICdAL3V0aWxzL2NoYXJ0cyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ29tcEV2YWx1YXRpb24nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbmRleDogMiwKICAgICAgZGF0YTogW10KICAgIH07CiAgfSwKICBwcm9wczogewogICAgc3BvdHM6IEFycmF5LAogICAgcmVsb2FkOiBCb29sZWFuCiAgfSwKICBjb21wdXRlZDogewogICAgc2NvcmU6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVswXTsKICAgICAgfQogICAgfSwKICAgIHdvcmRGcmVxdWVuY3k6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVsxXS53b3JkX2ZyZXF1ZW5jeS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG5hbWU6IGl0ZW0ud29yZCwKICAgICAgICAgICAgdmFsdWU6IGl0ZW0uY291bnQKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzcG90QXZnU2NvcmU6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVsyXS5tb250aGx5X3Njb3JlX2luZm87CiAgICAgIH0KICAgIH0sCiAgICBzcG90QXZnU2VudGltZW50OiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLmRhdGFbM10ubW9udGhseV9zZW50aW1lbnRfaW5mbzsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuZGF0YS5zcGxpY2UoMCwgdGhpcy5kYXRhLmxlbmd0aCk7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhc3luY1NldExvYWRpbmcnLCB0cnVlKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2FzeW5jQ2hhbmdlQ3VycmVudFZpZXcnLCB0aGlzLmluZGV4KTsKICAgICAgZ2V0RGF0YUJ5SWQodGhpcy5zcG90c1t0aGlzLiRzdG9yZS5zdGF0ZS5jdXJyZW50U3BvdEluZGV4XS5pZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHJlcyksCiAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgZGF0YSA9IGRhdGEuZGF0YTsKCiAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyAhPSAyMDApIHsKICAgICAgICAgICAgICBfdGhpcy4kcm91dGUucHVzaCgnLzQwNCcpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpcy5kYXRhLnB1c2goZGF0YS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2FzeW5jU2V0TG9hZGluZycsIGZhbHNlKTsKICAgICAgfSk7CiAgICB9LAogICAgZHJhd1dvcmRDbG91ZDogZnVuY3Rpb24gZHJhd1dvcmRDbG91ZCgpIHsKICAgICAgZHJhdygnd29yZGNsb3VkJywgewogICAgICAgIHRpdGxlOiB7CiAgICAgICAgICB0ZXh0OiAn6K+N6aKR57uf6K6hJwogICAgICAgIH0sCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgdHlwZTogJ3dvcmRjbG91ZCcsCiAgICAgICAgICBzaGFwZTogJ3Ntb290aCcsCiAgICAgICAgICBncmlkU2l6ZTogOCwKICAgICAgICAgIHNpemU6IFsnNTAlJywgJzUwJSddLAogICAgICAgICAgcm90YXRpb25SYW5nZTogWy00NSwgMCwgNDUsIDkwXSwKICAgICAgICAgIHRleHRTdHlsZTogewogICAgICAgICAgICBub3JtYWw6IHsKICAgICAgICAgICAgICBmb250RmFtaWx5OiAnVGl0aWxsaXVtIFdlYicsCiAgICAgICAgICAgICAgY29sb3I6IGZ1bmN0aW9uIGNvbG9yKCkgewogICAgICAgICAgICAgICAgcmV0dXJuICdyZ2IoJyArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDI1NSkgKyAnLCAnICsgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjU1KSArICcsICcgKyBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAyNTUpICsgJyknOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgZW1waGFzaXM6IHsKICAgICAgICAgICAgICAgIHNoYWRvd0JsdXI6IDUsCiAgICAgICAgICAgICAgICBzaGFkb3dDb2xvcjogJyMzMzMnCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgbGVmdDogJ2NlbnRlcicsCiAgICAgICAgICB0b3A6ICdjZW50ZXInLAogICAgICAgICAgcmlnaHQ6IG51bGwsCiAgICAgICAgICBib3R0b206IG51bGwsCiAgICAgICAgICB3aWR0aDogJzEwMCUnLAogICAgICAgICAgaGVpZ2h0OiAnMTAwJScsCiAgICAgICAgICBkYXRhOiB0aGlzLndvcmRGcmVxdWVuY3kKICAgICAgICB9XQogICAgICB9KTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICByZWxvYWQ6IGZ1bmN0aW9uIHJlbG9hZCgpIHsKICAgICAgdGhpcy5nZXREYXRhKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREYXRhKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgIHRoaXMuZHJhd1dvcmRDbG91ZCgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:\\VSCodeProjects\\Demo\\demo_01\\src\\views\\comprehensive_evaluation\\CompEvaluation.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-scrollbar>\r\n    <div class=\"views\" v-if=\"!$store.state.loading\">\r\n      <div id=\"wordcloud\"></div>\r\n      {{score}}<br/>\r\n      {{wordFrequency}}<br/>\r\n      {{spotAvgScore}}<br/>\r\n      {{spotAvgSentiment}}\r\n    </div>\r\n  </el-scrollbar>\r\n</template>\r\n\r\n<script>\r\nimport {getDataById} from '@/network/compEvaluationData'\r\nimport {draw} from '@/utils/charts'\r\n\r\nexport default {\r\n  name: 'CompEvaluation',\r\n  data() {\r\n    return {\r\n      index: 2,\r\n      data: []\r\n    }\r\n  },\r\n  props: {\r\n    spots: Array,\r\n    reload: Boolean\r\n  },\r\n  computed: {\r\n    score: {\r\n      get() {\r\n        return this.data[0]\r\n      }\r\n    },\r\n    wordFrequency: {\r\n      get() {\r\n        return this.data[1].word_frequency.map((item) => {\r\n          return {\r\n            name: item.word,\r\n            value: item.count\r\n          }\r\n        })\r\n      }\r\n    },\r\n    spotAvgScore: {\r\n      get() {\r\n        return this.data[2].monthly_score_info\r\n      }\r\n    },\r\n    spotAvgSentiment: {\r\n      get() {\r\n        return this.data[3].monthly_sentiment_info\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getData() {\r\n      this.data.splice(0,this.data.length)\r\n      this.$store.dispatch('asyncSetLoading', true)\r\n      this.$store.dispatch('asyncChangeCurrentView', this.index)\r\n      getDataById(this.spots[this.$store.state.currentSpotIndex].id).then(res => {\r\n        for (let data of res) {\r\n          data = data.data\r\n          if (data.status != 200) {\r\n            this.$route.push('/404')\r\n          }\r\n          this.data.push(data.data)\r\n        }\r\n        this.$store.dispatch('asyncSetLoading', false)\r\n      })\r\n    },\r\n    drawWordCloud() {\r\n      draw('wordcloud', {\r\n        title: {\r\n          text: '词频统计'\r\n        },\r\n        series: [{\r\n          type: 'wordcloud',\r\n          shape: 'smooth',\r\n          gridSize: 8,\r\n          size: ['50%', '50%'],\r\n          rotationRange: [-45, 0, 45, 90],\r\n          textStyle: {\r\n            normal: {\r\n              fontFamily: 'Titillium Web',\r\n              color() {\r\n                return 'rgb(' + Math.round(Math.random() * 255) + ', ' + Math.round(Math.random() * 255) + ', ' + Math.round(Math.random() * 255) + ')'\r\n              },\r\n              emphasis: {\r\n                shadowBlur: 5,\r\n                shadowColor: '#333'\r\n              }\r\n            }\r\n          },\r\n          left: 'center',\r\n          top: 'center',\r\n          right: null,\r\n          bottom: null,\r\n          width: '100%',\r\n          height: '100%',\r\n          data: this.wordFrequency\r\n        }]\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    reload() {\r\n      this.getData()\r\n    }\r\n  },\r\n  created() {\r\n    this.getData()\r\n  },\r\n  mounted() {\r\n    if (this.data.length > 0) {\r\n      this.drawWordCloud()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.views {\r\n  padding: 80px 100px 400px 100px\r\n}\r\n</style>"],"sourceRoot":""}]}