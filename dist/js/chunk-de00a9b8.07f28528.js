(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-de00a9b8"],{"57ca":function(t,e,n){},"84d7":function(t,e,n){"use strict";n("ce9d")},"8f3a":function(t,e,n){"use strict";n("57ca")},9087:function(t,e,n){"use strict";n.r(e);var a=n("7a23"),o=n("d01c"),r=n.n(o),i=n("9bed"),s=n.n(i),l={key:0,class:"views"},c={class:"card-header; display: flex"},d=Object(a["createElementVNode"])("span",{style:{flex:"6",width:"100%","margin-right":"20px"}},"评论观点",-1),u={style:{flex:"2",width:"100%"}},h={style:{flex:"2",width:"100%"}},f={style:{"text-align":"left",flex:"6",width:"100%"}},m={style:{"text-align":"left",flex:"2",width:"100%","font-size":"12px","padding-top":"8px"}},p=Object(a["createElementVNode"])("img",{src:r.a,style:{width:"15px"}},null,-1),g={style:{"text-align":"left",flex:"2",width:"100%","font-size":"12px","padding-top":"8px","padding-left":"10px"}},v=Object(a["createElementVNode"])("img",{src:s.a,style:{width:"15px","margin-top":"4px"}},null,-1);function w(t,e,n,o,r,i){var s=Object(a["resolveComponent"])("china-map"),w=Object(a["resolveComponent"])("spot-monthly-line"),x=Object(a["resolveComponent"])("word-cloud"),y=Object(a["resolveComponent"])("el-button"),b=Object(a["resolveComponent"])("el-tag"),M=Object(a["resolveComponent"])("el-card"),S=Object(a["resolveComponent"])("el-scrollbar");return Object(a["openBlock"])(),Object(a["createBlock"])(S,null,{default:Object(a["withCtx"])((function(){return[t.$store.state.loading?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createVNode"])(s,{spotSearchIndex:i.spotSearchIndex},null,8,["spotSearchIndex"]),Object(a["createVNode"])(w,{time:i.time,spotMonthlyLine:i.spotMonthlyLine},null,8,["time","spotMonthlyLine"]),Object(a["createVNode"])(x,{wordFrequency:i.wordFrequency},null,8,["wordFrequency"]),Object(a["createVNode"])(M,{class:"box-card",shadow:"hover"},{header:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",c,[d,Object(a["createElementVNode"])("span",u,[Object(a["createVNode"])(y,{plain:"",icon:"el-icon-arrow-left",onClick:e[0]||(e[0]=function(t){return i.changeIndex(!1)})})]),Object(a["createElementVNode"])("span",h,[Object(a["createVNode"])(y,{plain:"",icon:"el-icon-arrow-right",onClick:e[1]||(e[1]=function(t){return i.changeIndex(!0)})})])])]})),default:Object(a["withCtx"])((function(){return[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(r.currentIndex===i.maxIndex?i.spotBaiduTagSentiment.length-10*r.currentIndex:10,(function(t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:t,class:"text item",style:{display:"flex"}},[Object(a["createElementVNode"])("span",f,[Object(a["createVNode"])(b,{type:r.tag[t%4]},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(i.spotBaiduTagSentiment[10*r.currentIndex+t][0]),1)]})),_:2},1032,["type"])]),Object(a["createElementVNode"])("span",m,[p,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(i.spotBaiduTagSentiment[10*r.currentIndex+t][1]),1)]),Object(a["createElementVNode"])("span",g,[v,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(i.spotBaiduTagSentiment[10*r.currentIndex+t][2]),1)])])})),128))]})),_:1})]))]})),_:1})}var x=n("b85c"),y=(n("d81d"),n("a434"),{id:"china",style:{width:"100%",height:"850px",margin:"auto"}});function b(t,e,n,o,r,i){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",y)}n("b0c0");var M={name:"ChinaMap",data:function(){return{}},props:{spotSearchIndex:Array},computed:{option:{get:function(){return{title:{text:"地图-百度搜索指数",x:"center",textStyle:{fontsize:24}},tooltip:{trigger:"item",formatter:function(t){var e="";return e=isNaN(t.value)?t.name+"暂无数据":t.name+"\n热度："+t.value,e},extraCssText:"width:100px;height:26px;"},toolbox:{feature:{saveAsImage:{}}},visualMap:{min:0,max:600,show:!0,type:"piecewise",left:"right",top:"center",textStyle:{color:"#000000"}},geo:{show:!0,map:"china",label:{show:!0,fontsize:12},roam:!1,emphasis:{itemStyle:{areaColor:"#0099CC"},label:{show:!0}},itemStyle:{areaColor:"#FFFFFF",borderColor:"#666666"}},series:[{data:this.spotSearchIndex,type:"map",map:"china",geoIndex:0,animation:!1}]}}}},mounted:function(){this.$echarts.init(document.getElementById("china")).setOption(this.option)}};M.render=b;var S=M,I={id:"spot-monthly-line",style:{width:"70%",height:"500px",margin:"auto","margin-top":"100px","margin-bottom":"200px"}};function O(t,e,n,o,r,i){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",I)}var C={name:"SpotMonthlyLine",data:function(){return{option:{title:{text:"折线图-百度指数信息",x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{orient:"vertical",x:"right",y:"center"},xAxis:{data:this.time},yAxis:{},series:this.spotMonthlyLine}}},props:{time:Array,spotMonthlyLine:Array},mounted:function(){this.$echarts.init(document.getElementById("spot-monthly-line")).setOption(this.option)}};C.render=O;var T=C,k={id:"spot-baidu-bag-wordcloud"};function j(t,e,n,o,r,i){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",k)}n("a15b"),n("da0d");var E={name:"WordCloud",data:function(){return{option:{title:{text:"百度评论观点词频统计",x:"center"},tooltip:{show:!0},series:[{name:"词频统计",type:"wordCloud",shape:"circle",sizeRange:[6,66],gridSize:8,size:["100%","100%"],rotationRange:[-45,90],textStyle:{fontFamily:"sans-serif",fontWeight:"bold",color:function(){return"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}},left:"right",top:"center",width:"100%",height:"100%",data:this.wordFrequency}]}}},props:{wordFrequency:Array},mounted:function(){this.$echarts.init(document.getElementById("spot-baidu-bag-wordcloud")).setOption(this.option)}};n("84d7");E.render=j;var B=E,F=n("1bab"),A=n("bc3a"),L=n.n(A),D=n("4328"),z=n.n(D),R=["/spot_search_index/","/spot_monthly_index/","/spot_baidu_tag_sentiment/","/spot_baidu_tag_wordcloud/"];function P(t){var e=[],n={secretId:"WUT",secretKey:"wbyTUak7LiSsw77iXyLj8O18e5gcRrDo",spot_id:t};n=z.a.stringify(n);var a,o=Object(x["a"])(R);try{for(o.s();!(a=o.n()).done;){var r=a.value;e.push(Object(F["a"])({url:"/api/v1"+r,method:"post",data:n}))}}catch(i){o.e(i)}finally{o.f()}return L.a.all(e)}var N={name:"Heat",components:{ChinaMap:S,SpotMonthlyLine:T,WordCloud:B},data:function(){return{index:3,data:[],tag:["danger","warning","success","info"],currentIndex:0}},props:{spots:Array,reload:Boolean},computed:{spotSearchIndex:{get:function(){return this.data[0].map((function(t){return{name:t.province_name,value:parseInt(t.nums)}}))}},spotMonthlyIndex:{get:function(){return this.data[1].map((function(t){return t.map((function(t){return parseInt(t)}))}))}},spotBaiduTagSentiment:{get:function(){return this.data[2]}},spotBaiduTagWordcloud:{get:function(){return this.data[3]}},wordFrequency:{get:function(){return this.spotBaiduTagWordcloud.map((function(t){return{name:t[1],value:t[2]}}))}},time:{get:function(){for(var t=[],e=1;e<=12;e++)t.push(e+"月");return t}},spotMonthlyLine:{get:function(){return[{name:"媒体指数",type:"line",data:this.spotMonthlyIndex[0],itemStyle:{color:"#CC4444"}},{name:"咨询指数",type:"line",data:this.spotMonthlyIndex[1],itemStyle:{color:"#44CC44"}},{name:"搜索指数",type:"line",data:this.spotMonthlyIndex[2],itemStyle:{color:"#4444CC"}}]}},maxIndex:{get:function(){return this.spotBaiduTagSentiment.length/10-2}}},methods:{getData:function(){var t=this;this.flag=!1,this.data.splice(0,this.data.length),this.$store.dispatch("asyncSetLoading",!0),this.$store.dispatch("asyncChangeCurrentView",this.index),P(this.spots[this.$store.state.currentSpotIndex].id).then((function(e){var n,a=Object(x["a"])(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o=o.data,404==o.status){t.$router.push("/404");break}if(403==o.status){t.$router.push("/403");break}t.data.push(o.data)}}catch(r){a.e(r)}finally{a.f()}t.$store.dispatch("asyncSetLoading",!1)}))},changeIndex:function(t){t?this.currentIndex<this.maxIndex&&this.currentIndex++:this.currentIndex>0&&this.currentIndex--}},watch:{reload:function(){this.getData()}},created:function(){this.getData()}};n("8f3a");N.render=w;e["default"]=N},"9bed":function(t,e,n){t.exports=n.p+"img/踩.f3bb2d02.png"},a15b:function(t,e,n){"use strict";var a=n("23e7"),o=n("44ad"),r=n("fc6a"),i=n("a640"),s=[].join,l=o!=Object,c=i("join",",");a({target:"Array",proto:!0,forced:l||!c},{join:function(t){return s.call(r(this),void 0===t?",":t)}})},a640:function(t,e,n){"use strict";var a=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&a((function(){n.call(null,e||function(){throw 1},1)}))}},ce9d:function(t,e,n){},d01c:function(t,e,n){t.exports=n.p+"img/赞.e0b4948c.png"},d81d:function(t,e,n){"use strict";var a=n("23e7"),o=n("b727").map,r=n("1dde"),i=r("map");a({target:"Array",proto:!0,forced:!i},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},da0d:function(t,e,n){
/*! For license information please see echarts-wordcloud.min.js.LICENSE.txt */
!function(e,a){t.exports=a(n("313e"))}(self,(function(t){return(()=>{"use strict";var e={638:(t,e,n)=>{n.r(e);var a=n(83);a.extendSeriesModel({type:"series.wordCloud",visualStyleAccessPath:"textStyle",visualStyleMapper:function(t){return{fill:t.get("color")}},visualDrawType:"fill",optionUpdated:function(){var t=this.option;t.gridSize=Math.max(Math.floor(t.gridSize),4)},getInitialData:function(t,e){var n=a.helper.createDimensions(t.data,{coordDimensions:["value"]}),o=new a.List(n,this);return o.initData(t.data),o},defaultOption:{maskImage:null,shape:"circle",left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,textStyle:{fontWeight:"normal"}}}),a.extendChartView({type:"wordCloud",render:function(t,e,n){var o=this.group;o.removeAll();var r=t.getData(),i=t.get("gridSize");t.layoutInstance.ondraw=function(e,n,s,l){var c=r.getItemModel(s),d=c.getModel("textStyle"),u=new a.graphic.Text({style:a.helper.createTextStyle(d),scaleX:1/l.info.mu,scaleY:1/l.info.mu,x:(l.gx+l.info.gw/2)*i,y:(l.gy+l.info.gh/2)*i,rotation:l.rot});u.setStyle({x:l.info.fillTextOffsetX,y:l.info.fillTextOffsetY+.5*n,text:e,verticalAlign:"middle",fill:r.getItemVisual(s,"style").fill,fontSize:n}),o.add(u),r.setItemGraphicEl(s,u),u.ensureState("emphasis").style=a.helper.createTextStyle(c.getModel(["emphasis","textStyle"]),{state:"emphasis"}),u.ensureState("blur").style=a.helper.createTextStyle(c.getModel(["blur","textStyle"]),{state:"blur"}),a.helper.enableHoverEmphasis(u,c.get(["emphasis","focus"]),c.get(["emphasis","blurScope"])),u.stateTransition={duration:t.get("animation")?t.get(["stateAnimation","duration"]):0,easing:t.get(["stateAnimation","easing"])},u.__highDownDispatcher=!0},this._model=t},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}}),window.setImmediate||(window.setImmediate=window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message";return window.addEventListener("message",(function(n){if("string"==typeof n.data&&n.data.substr(0,e.length)===e){n.stopImmediatePropagation();var a=parseInt(n.data.substr(e.length),36);t[a]&&(t[a](),t[a]=void 0)}}),!0),window.clearImmediate=function(e){t[e]&&(t[e]=void 0)},function(n){var a=t.length;return t.push(n),window.postMessage(e+a.toString(36),"*"),a}}()||function(t){window.setTimeout(t,0)}),window.clearImmediate||(window.clearImmediate=window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)});var o=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;var e=t.getContext("2d");return!!(e.getImageData&&e.fillText&&Array.prototype.some&&Array.prototype.push)}(),r=function(){if(o){for(var t,e,n=document.createElement("canvas").getContext("2d"),a=20;a;){if(n.font=a.toString(10)+"px sans-serif",n.measureText("Ｗ").width===t&&n.measureText("m").width===e)return a+1;t=n.measureText("Ｗ").width,e=n.measureText("m").width,a--}return 0}}(),i=function(t){for(var e,n,a=t.length;a;e=Math.floor(Math.random()*a),n=t[--a],t[a]=t[e],t[e]=n);return t},s=function(t,e){if(o){Array.isArray(t)||(t=[t]),t.forEach((function(e,n){if("string"==typeof e){if(t[n]=document.getElementById(e),!t[n])throw"The element id specified is not found."}else if(!e.tagName&&!e.appendChild)throw"You must pass valid HTML elements, or ID of the element."}));var n={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,layoutAnimation:!0,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(e)for(var a in e)a in n&&(n[a]=e[a]);if("function"!=typeof n.weightFactor){var s=n.weightFactor;n.weightFactor=function(t){return t*s}}if("function"!=typeof n.shape)switch(n.shape){case"circle":default:n.shape="circle";break;case"cardioid":n.shape=function(t){return 1-Math.sin(t)};break;case"diamond":case"square":n.shape=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"triangle-forward":n.shape=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle":case"triangle-upright":n.shape=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"pentagon":n.shape=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case"star":n.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return(t+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}n.gridSize=Math.max(Math.floor(n.gridSize),4);var l,c,d,u,h,f,m,p=n.gridSize,g=p-n.maskGapWidth,v=Math.abs(n.maxRotation-n.minRotation),w=Math.min(n.maxRotation,n.minRotation),x=n.rotationStep;switch(n.color){case"random-dark":m=function(){return F(10,50)};break;case"random-light":m=function(){return F(50,90)};break;default:"function"==typeof n.color&&(m=n.color)}var y=null;"function"==typeof n.classes&&(y=n.classes);var b,M=!1,S=[],I=function(t){var e,n,a=t.currentTarget,o=a.getBoundingClientRect();t.touches?(e=t.touches[0].clientX,n=t.touches[0].clientY):(e=t.clientX,n=t.clientY);var r=e-o.left,i=n-o.top,s=Math.floor(r*(a.width/o.width||1)/p),l=Math.floor(i*(a.height/o.height||1)/p);return S[s][l]},O=function(t){var e=I(t);b!==e&&(b=e,e?n.hover(e.item,e.dimension,t):n.hover(void 0,void 0,t))},C=function(t){var e=I(t);e&&(n.click(e.item,e.dimension,t),t.preventDefault())},T=[],k=function(t){if(T[t])return T[t];var e=8*t,a=e,o=[];for(0===t&&o.push([u[0],u[1],0]);a--;){var r=1;"circle"!==n.shape&&(r=n.shape(a/e*2*Math.PI)),o.push([u[0]+t*r*Math.cos(-a/e*2*Math.PI),u[1]+t*r*Math.sin(-a/e*2*Math.PI)*n.ellipticity,a/e*2*Math.PI])}return T[t]=o,o},j=function(){return n.abortThreshold>0&&(new Date).getTime()-f>n.abortThreshold},E=function(e,n,a,o,r){e>=c||n>=d||e<0||n<0||(l[e][n]=!1,a&&t[0].getContext("2d").fillRect(e*p,n*p,g,g),M&&(S[e][n]={item:r,dimension:o}))},B=function(e,n,a){if(n)return!t.some((function(t){var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,!0,n,a||{}),!t.dispatchEvent(o)}),this);t.forEach((function(t){var o=document.createEvent("CustomEvent");o.initCustomEvent(e,!0,n,a||{}),t.dispatchEvent(o)}),this)};!function(){var e=t[0];if(e.getContext)c=Math.ceil(e.width/p),d=Math.ceil(e.height/p);else{var a=e.getBoundingClientRect();c=Math.ceil(a.width/p),d=Math.ceil(a.height/p)}if(B("wordcloudstart",!0)){var o,s,g,I,T;if(u=n.origin?[n.origin[0]/p,n.origin[1]/p]:[c/2,d/2],h=Math.floor(Math.sqrt(c*c+d*d)),l=[],!e.getContext||n.clearCanvas)for(t.forEach((function(t){if(t.getContext){var e=t.getContext("2d");e.fillStyle=n.backgroundColor,e.clearRect(0,0,c*(p+1),d*(p+1)),e.fillRect(0,0,c*(p+1),d*(p+1))}else t.textContent="",t.style.backgroundColor=n.backgroundColor,t.style.position="relative"})),o=c;o--;)for(l[o]=[],s=d;s--;)l[o][s]=!0;else{var F=document.createElement("canvas").getContext("2d");F.fillStyle=n.backgroundColor,F.fillRect(0,0,1,1);var A,L,D=F.getImageData(0,0,1,1).data,z=e.getContext("2d").getImageData(0,0,c*p,d*p).data;for(o=c;o--;)for(l[o]=[],s=d;s--;){L=p;t:for(;L--;)for(A=p;A--;)for(g=4;g--;)if(z[4*((s*p+L)*c*p+(o*p+A))+g]!==D[g]){l[o][s]=!1;break t}!1!==l[o][s]&&(l[o][s]=!0)}z=F=D=void 0}if(n.hover||n.click){for(M=!0,o=c+1;o--;)S[o]=[];n.hover&&e.addEventListener("mousemove",O),n.click&&(e.addEventListener("click",C),e.addEventListener("touchstart",C),e.addEventListener("touchend",(function(t){t.preventDefault()})),e.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),e.addEventListener("wordcloudstart",(function t(){e.removeEventListener("wordcloudstart",t),e.removeEventListener("mousemove",O),e.removeEventListener("click",C),b=void 0}))}g=0;var R=!0;n.layoutAnimation?0!==n.wait?(I=window.setTimeout,T=window.clearTimeout):(I=window.setImmediate,T=window.clearImmediate):(I=function(t){t()},T=function(){R=!1});var P=function(e,n){t.forEach((function(t){t.removeEventListener(e,n)}),this)},N=function t(){P("wordcloudstart",t),T(V)};!function(e,n){t.forEach((function(t){t.addEventListener("wordcloudstart",n)}),this)}(0,N);var V=(n.layoutAnimation?I:setTimeout)((function e(){if(R){if(g>=n.list.length)return T(V),B("wordcloudstop",!1),void P("wordcloudstart",N);f=(new Date).getTime();var a=function(e){var a,o,s;Array.isArray(e)?(a=e[0],o=e[1]):(a=e.word,o=e.weight,s=e.attributes);var u,f,g,b=0===n.rotateRatio||Math.random()>n.rotateRatio?0:0===v?w:w+Math.round(Math.random()*v/x)*x,S=function(t,e,a){var o=n.weightFactor(e);if(o<=n.minSize)return!1;var i=1;o<r&&(i=function(){for(var t=2;t*o<r;)t+=2;return t}());var s=document.createElement("canvas"),l=s.getContext("2d",{willReadFrequently:!0});l.font=n.fontWeight+" "+(o*i).toString(10)+"px "+n.fontFamily;var c=l.measureText(t).width/i,d=Math.max(o*i,l.measureText("m").width,l.measureText("Ｗ").width)/i,u=c+2*d,h=3*d,f=Math.ceil(u/p),m=Math.ceil(h/p);u=f*p,h=m*p;var g=-c/2,v=.4*-d,w=Math.ceil((u*Math.abs(Math.sin(a))+h*Math.abs(Math.cos(a)))/p),x=Math.ceil((u*Math.abs(Math.cos(a))+h*Math.abs(Math.sin(a)))/p),y=x*p,b=w*p;s.setAttribute("width",y),s.setAttribute("height",b),l.scale(1/i,1/i),l.translate(y*i/2,b*i/2),l.rotate(-a),l.font=n.fontWeight+" "+(o*i).toString(10)+"px "+n.fontFamily,l.fillStyle="#000",l.textBaseline="middle",l.fillText(t,g*i,(v+.5*o)*i);var M=l.getImageData(0,0,y,b).data;if(j())return!1;for(var S,I,O,C=[],T=x,k=[w/2,x/2,w/2,x/2];T--;)for(S=w;S--;){O=p;t:for(;O--;)for(I=p;I--;)if(M[4*((S*p+O)*y+(T*p+I))+3]){C.push([T,S]),T<k[3]&&(k[3]=T),T>k[1]&&(k[1]=T),S<k[0]&&(k[0]=S),S>k[2]&&(k[2]=S);break t}}return{mu:i,occupied:C,bounds:k,gw:x,gh:w,fillTextOffsetX:g,fillTextOffsetY:v,fillTextWidth:c,fillTextHeight:d,fontSize:o}}(a,o,b);if(!S)return!1;if(j())return!1;if(!n.drawOutOfBound){var I=S.bounds;if(I[1]-I[3]+1>c||I[2]-I[0]+1>d)return!1}for(var O=h+1;O--;){var C=k(h-O);n.shuffle&&(C=[].concat(C),i(C));for(var T=0;T<C.length;T++){var B=(u=C[T],f=void 0,g=void 0,f=Math.floor(u[0]-S.gw/2),g=Math.floor(u[1]-S.gh/2),S.gw,S.gh,!!function(t,e,a,o,r){for(var i=r.length;i--;){var s=t+r[i][0],u=e+r[i][1];if(s>=c||u>=d||s<0||u<0){if(!n.drawOutOfBound)return!1}else if(!l[s][u])return!1}return!0}(f,g,0,0,S.occupied)&&(function(e,a,o,r,i,s,l,c,d){var u,h,f=o.fontSize;u=m?m(r,i,f,s,l):n.color,h=y?y(r,i,f,s,l):n.classes;var g=o.bounds;g[3],g[0],g[1],g[3],g[2],g[0],t.forEach((function(t){if(t.getContext){var i=t.getContext("2d"),s=o.mu;i.save(),i.scale(1/s,1/s),i.font=n.fontWeight+" "+(f*s).toString(10)+"px "+n.fontFamily,i.fillStyle=u,i.translate((e+o.gw/2)*p*s,(a+o.gh/2)*p*s),0!==c&&i.rotate(-c),i.textBaseline="middle",i.fillText(r,o.fillTextOffsetX*s,(o.fillTextOffsetY+.5*f)*s),i.restore()}else{var l=document.createElement("span"),m="";m="rotate("+-c/Math.PI*180+"deg) ",1!==o.mu&&(m+="translateX(-"+o.fillTextWidth/4+"px) scale("+1/o.mu+")");var g={position:"absolute",display:"block",font:n.fontWeight+" "+f*o.mu+"px "+n.fontFamily,left:(e+o.gw/2)*p+o.fillTextOffsetX+"px",top:(a+o.gh/2)*p+o.fillTextOffsetY+"px",width:o.fillTextWidth+"px",height:o.fillTextHeight+"px",lineHeight:f+"px",whiteSpace:"nowrap",transform:m,webkitTransform:m,msTransform:m,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};for(var v in u&&(g.color=u),l.textContent=r,g)l.style[v]=g[v];if(d)for(var w in d)l.setAttribute(w,d[w]);h&&(l.className+=h),t.appendChild(l)}}))}(f,g,S,a,o,h-O,u[2],b,s),function(e,a,o,r,i,s){var l,u,h=i.occupied,f=n.drawMask;if(f&&((l=t[0].getContext("2d")).save(),l.fillStyle=n.maskColor),M){var m=i.bounds;u={x:(e+m[3])*p,y:(a+m[0])*p,w:(m[1]-m[3]+1)*p,h:(m[2]-m[0]+1)*p}}for(var g=h.length;g--;){var v=e+h[g][0],w=a+h[g][1];v>=c||w>=d||v<0||w<0||E(v,w,f,u,s)}f&&l.restore()}(f,g,0,0,S,e),{gx:f,gy:g,rot:b,info:S}));if(B)return B}}return null}(n.list[g]),o=!B("wordclouddrawn",!0,{item:n.list[g],drawn:a});if(j()||o)return T(V),n.abort(),B("wordcloudabort",!1),B("wordcloudstop",!1),void P("wordcloudstart",N);g++,V=I(e,n.wait)}}),n.wait)}}()}function F(t,e){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-t)+t).toFixed()+"%)"}};s.isSupported=o,s.minFontSize=r;const l=s;if(!l.isSupported)throw new Error("Sorry your browser not support wordCloud");a.registerLayout((function(t,e){t.eachSeriesByType("wordCloud",(function(n){var o=a.helper.getLayoutRect(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),r=n.getData(),i=document.createElement("canvas");i.width=o.width,i.height=o.height;var s=i.getContext("2d"),c=n.get("maskImage");if(c)try{s.drawImage(c,0,0,i.width,i.height),function(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),a=e.createImageData(n),o=0,r=0,i=0;i<n.data.length;i+=4)n.data[i+3]>128&&(o+=l=n.data[i]+n.data[i+1]+n.data[i+2],++r);var s=o/r;for(i=0;i<n.data.length;i+=4){var l=n.data[i]+n.data[i+1]+n.data[i+2];n.data[i+3]<128||l>s?(a.data[i]=0,a.data[i+1]=0,a.data[i+2]=0,a.data[i+3]=0):(a.data[i]=255,a.data[i+1]=255,a.data[i+2]=255,a.data[i+3]=255)}e.putImageData(a,0,0)}(i)}catch(t){console.error("Invalid mask image"),console.error(t.toString())}var d=n.get("sizeRange"),u=n.get("rotationRange"),h=r.getDataExtent("value"),f=Math.PI/180,m=n.get("gridSize");function p(t){var e=t.detail.item;t.detail.drawn&&n.layoutInstance.ondraw&&(t.detail.drawn.gx+=o.x/m,t.detail.drawn.gy+=o.y/m,n.layoutInstance.ondraw(e[0],e[1],e[2],t.detail.drawn))}l(i,{list:r.mapArray("value",(function(t,e){var n=r.getItemModel(e);return[r.getName(e),n.get("textStyle.fontSize",!0)||a.number.linearMap(t,h,d),e]})).sort((function(t,e){return e[1]-t[1]})),fontFamily:n.get("textStyle.fontFamily")||n.get("emphasis.textStyle.fontFamily")||t.get("textStyle.fontFamily"),fontWeight:n.get("textStyle.fontWeight")||n.get("emphasis.textStyle.fontWeight")||t.get("textStyle.fontWeight"),gridSize:m,ellipticity:o.height/o.width,minRotation:u[0]*f,maxRotation:u[1]*f,clearCanvas:!c,rotateRatio:1,rotationStep:n.get("rotationStep")*f,drawOutOfBound:n.get("drawOutOfBound"),layoutAnimation:n.get("layoutAnimation"),shuffle:!1,shape:n.get("shape")}),i.addEventListener("wordclouddrawn",p),n.layoutInstance&&n.layoutInstance.dispose(),n.layoutInstance={ondraw:null,dispose:function(){i.removeEventListener("wordclouddrawn",p),i.addEventListener("wordclouddrawn",(function(t){t.preventDefault()}))}}}))})),a.registerPreprocessor((function(t){var e=(t||{}).series;!a.util.isArray(e)&&(e=e?[e]:[]);var n=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function o(t){t&&a.util.each(n,(function(e){t.hasOwnProperty(e)&&(t["text"+a.format.capitalFirst(e)]=t[e])}))}a.util.each(e,(function(t){if(t&&"wordCloud"===t.type){var e=t.textStyle||{};o(e.normal),o(e.emphasis)}}))}))},83:e=>{e.exports=t}},n={};function a(t){if(n[t])return n[t].exports;var o=n[t]={exports:{}};return e[t](o,o.exports,a),o.exports}return a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a(638)})()}))}}]);
//# sourceMappingURL=chunk-de00a9b8.07f28528.js.map